# M-02 작업 상세(기사) 통합 스펙

## TL;DR
- M-02 관련 중복 문서를 하나로 통합해, 구현 기준(필수 입력/검증/제출)을 단일 소스로 제공.

## 본문
## M-02 기사 작업 상세 화면 스펙(Mobile)

M-02 기사 작업 상세 화면 스펙 (Mobile Web)
0) 화면 목표
• 기사가 현장에서 3~5분 내 완료 제출 가능
• 서명/체크리스트/사진 누락 방지
• 고객에게 발송될 문서의 핵심 데이터가 이 화면에서 완성됨
1) 접근 조건
• 로그인된 TECHNICIAN 역할
• WorkOrder.assigned_technician_id = 현재 사용자
• 상태가 TECH_ASSIGNED 또는 IN_PROGRESS 또는 COMPLETED (COMPLETED는 읽기 전용)
2) 상단 헤더 (Sticky)
구성
• 좌측: 뒤로가기(오늘 작업 리스트로)
• 중앙: 작업 유형 배지 + 상태 배지
o 예: [설치] [기사배정됨]
• 우측: “지원/전화” 아이콘(선택)
o 팀 관리자 또는 콜센터로 전화/문자 (정책)
상태 배지 표기
• TECH_ASSIGNED: “배정됨”
• IN_PROGRESS: “진행중”
• COMPLETED: “완료”
3) 섹션 A: 현장 카드 (가장 위, 크고 단순하게)
표시
• 현장명(굵게)
• 주소(2줄까지, 탭하면 지도 열기)
• 현장 담당자명 + 전화 버튼
• 고객사명(작게)
버튼
• 전화 (tel://)
• 지도 (네이버/카카오/구글 중 1개로 통일)
필드(읽기전용)
• Site: name, address, contact_name, contact_phone
• Customer: name
4) 섹션 B: 작업 요약 카드
표시
• 방문 예정일시
• 작업 요약(summary) 1줄
• 특이사항(description) 접기/펼치기
버튼(선택)
• 작업 시작 (상태 TECH_ASSIGNED일 때만 노출)
o 클릭 시 상태 → IN_PROGRESS
o AuditLog: UPDATE_STATUS
“작업 시작”은 운영상 있으면 좋지만, 필드테스트 1차에선 생략 가능(바로 수행해도 됨).
5) 섹션 C: 체크리스트 (필수)
목표: “완료 제출” 전에 필수 항목이 반드시 PASS/FAIL/NA로 채워져야 함.
UI 규칙
• 섹션(예: 환경확인/설치/고객안내) 단위로 접기/펼치기
• 각 항목은 한 줄 + 상태 선택(3버튼 또는 드롭다운)
o PASS / FAIL / 해당없음(NA)
• FAIL 선택 시 메모 입력이 자동으로 펼쳐짐(필수 입력)
• 섹션 상단에 진행률 표시:
o 완료 8/12
기능
• 항목 선택 즉시 자동 저장(권장)
• 필수 항목 미완료 시 “완료 제출” 불가
데이터
• WorkOrderChecklistItem upsert
o section, label, value, note, sort_order
검증(필수)
• 모든 필수 항목 value != null
• FAIL인 항목은 note 길이 >= N (예: 5자) 강제(권장)
6) 섹션 D: 사진 업로드 (권장/정책에 따라 필수 가능)
구성
• 탭 2개 또는 섹션 2개:
o “작업 전 사진”
o “작업 후 사진”
UI 규칙
• 사진 추가 버튼(카메라/갤러리)
• 업로드 후 썸네일 그리드
• 사진 삭제(휴지통) 가능(정책에 따라 완료 전까지만)
최소 요구 정책(추천)
• 설치(INSTALL): 전 1장 + 후 1장 최소
• AS: 처리부위 1장(후 사진) 최소
필드테스트에서는 “권장”으로 두고, 운영하면서 필수로 강화해도 됨.
데이터
• FileObject(type=PHOTO)
• WorkOrderAttachment(category=BEFORE_PHOTO/AFTER_PHOTO)
7) 섹션 E: 고객 서명 (필수)
목표: 이 시스템의 핵심 증빙. 절대 누락 방지.
입력 필드
• 서명자 이름(필수)
• 서명자 구분(선택): 현장담당 / 관리자 / 대표 / 대리인
• 서명 캔버스(필수)
o 지우기 버튼
o 확인 버튼(서명 저장)
UX 규칙
• 캔버스는 화면 가로 꽉 차게
• “서명 저장”을 누르기 전에는 완료 제출 불가
• “서명 저장” 후에는 작은 미리보기 + “다시 받기” 버튼
데이터
• FileObject(type=SIGNATURE)
• WorkOrderSignature(work_order_id, signed_by_name, signed_by_role, signature_file_id, signed_at)
8) 섹션 F: 고객 발송 정보 (필드테스트에 매우 유용)
표시/입력
• 고객 문자 수신 번호(기본값: Site contact phone)
• 고객 이메일(기본값: Site contact email 또는 Customer email)
• 체크박스:
o 완료 후 문자 발송
o 완료 후 이메일 발송
정책
• 발송은 “완료 처리 후 자동”
• 연락처/이메일이 비어있는데 체크하면 경고(저장 불가 또는 완료 불가)
이 섹션을 기사에게 노출할지 고민될 수 있는데, “문서 발송”이 중요하면 현장에서 바로 확인하는 게 누락이 줄어.
기사 부담이 크면 팀관리자/본사 화면에서 미리 넣도록 정책화.

9) 하단 고정 액션바 (Sticky Bottom Bar)
상태에 따라 버튼이 달라짐.
상태: TECH_ASSIGNED / IN_PROGRESS
• 기본 버튼 2개:
o 임시저장(사실상 자동저장이면 숨겨도 됨)
o 완료 제출 (Primary)
상태: COMPLETED
• 버튼:
o PDF 보기(또는 “문서 보기”)
o 발송 상태 보기(읽기 전용)
10) “완료 제출” 클릭 시 검증 로직(필수)
완료 제출 버튼 누르면 다음 체크 후 진행:
1. 체크리스트 필수 항목 전부 입력됐는가?
2. FAIL 항목에 메모가 있는가?
3. 서명이 저장됐는가?
4. (정책 시) 전/후 사진 최소 조건 충족?
5. (발송 체크 시) 전화번호/이메일 유효한가?
검증 실패 시 UX
• 화면 상단 토스트 + 해당 섹션으로 스크롤 이동
• 해당 섹션 제목 옆에 빨간 점/경고 표시
11) 완료 제출 성공 후 동작
• WorkOrder.status → COMPLETED
• completed_at 기록
• “완료 처리되었습니다” 확인 화면(또는 토스트)
• 안내 문구:
o “문서 생성 및 고객 발송은 잠시 후 자동 처리됩니다.”
• “오늘 작업” 목록으로 돌아가기 버튼
여기서 “잠시 후” 같은 표현은 UI 문구일 뿐, 비동기 처리 구현은 나중 단계에서 조절 가능.
12) 에러/현장 상황 대비(Phase 1 최소)
• 업로드 실패 시 재시도 버튼
• 네트워크 끊김 감지 시 “임시 저장 실패” 경고
• (2차 과제) 오프라인 캐시/큐잉
추천 화면 와이어(텍스트 배치)
1. 헤더(고정)
2. 현장 카드(전화/지도)
3. 작업 요약(일정/메모)
4. 체크리스트(섹션별)
5. 사진(전/후)
6. 서명(필수)
7. 발송 정보(선택)
8. 하단 액션바(완료 제출)

(본문 끝)
===

---

## M-02 기사작업 상세 화면

M-02 기사 작업 상세 화면 (초간단 UX 고정안)
핵심 원칙 6개
1. 한 화면에서 끝낸다(페이지 이동 최소)
2. 필수만 먼저(권장은 아래로)
3. PASS/FAIL/NA는 큰 버튼 3개
4. FAIL이면 메모 자동 펼침 + 필수
5. 서명 저장 전엔 완료 불가
6. 완료 버튼은 항상 하단 고정(Sticky)

1) 화면 구성(위 → 아래)
[헤더 Sticky]
• ← 뒤로가기(오늘 작업)
• 가운데: [설치/AS] + 상태 배지
• 우측: 전화 아이콘(현장 담당자)

[A. 현장 카드] (최상단, 크게)
• 현장명(큰 글씨)
• 주소(짧게) + 지도 버튼
• 담당자명 + 전화 버튼
• 고객사명(작게)
이 블록은 “정보 확인/전화/지도”를 위해 항상 위에.

[B. 필수 체크 10~12개] (가장 중요, 접지 말고 기본 펼침)
표시 방식(항목 1개당)
• 항목명(짧게)
• 버튼 3개: PASS FAIL NA
• (FAIL 선택 시) 바로 아래에 메모 입력창 등장
o placeholder: “원인/조치 내용을 간단히 적어주세요”
그룹핑(섹션 2개만)
• 설치(INSTALL):
o “필수 체크(12)”
o “서명(필수)”
• AS:
o “필수 체크(10)”
o “서명(필수)”
섹션을 너무 잘게 나누면 스크롤/탭이 늘어서 피로도가 올라감.
진행률
• 섹션 제목 오른쪽에 완료 7/12 표시
• 완료되면 ✅ 표시

[C. 서명(필수)] (필수 체크 바로 아래)
구성
• 서명자 이름(필수, 한 줄 입력)
• 서명자 구분(선택 드롭다운: 현장담당/대표/대리인/기타)
• 서명 패드(가로 꽉)
• 버튼: 지우기 / 서명 저장
저장 후
• 작은 미리보기 + “다시 받기”
• “서명 저장됨 ✅” 라벨

[D. 권장 항목(접기/펼치기)] (기본 접힘)
접혀 있을 때 제목만
• “추가 항목(권장) ▸”
• “사진 업로드(권장) ▸”
• “고객 발송 정보(선택) ▸”
초반엔 필수만으로도 완료가 가능해야 함(속도 최우선).

[D-1. 사진 업로드(권장)] (펼치면)
• 버튼: 사진 추가
• 2칸 탭(또는 2블록):
o “전 사진”
o “후 사진”
• 썸네일 그리드 + 삭제 아이콘
정책 토글(나중에)
• 운영 안정화 후 “사진 필수” 켜면,
o 완료 버튼 누를 때 조건 검사로만 추가(UX 변화 최소)

[D-2. 고객 발송 정보(선택)] (펼치면)
• 수신번호(기본값: 현장 담당자 전화)
• 이메일(기본값: 현장 담당자 이메일 또는 고객 메일)
• 체크박스:
o 완료 후 문자 발송
o 완료 후 이메일 발송
기사 부담이 크면 이 섹션은 팀/본사에서만 편집 가능하도록 바꿔도 됨(설정으로).

2) 하단 Sticky 액션바(가장 중요)
버튼 구성(기본 1개 + 상태 버튼)
• Primary: 완료 제출
• Secondary(선택): 작업 시작 (상태가 TECH_ASSIGNED일 때만)
완료 제출을 누르면 “검증 → 통과 시 완료”로.

3) 완료 제출 검증(초간단 버전)
필수 조건
1. 필수 체크 항목 전부 PASS/FAIL/NA 선택
2. FAIL 항목은 메모 존재
3. 서명 저장 완료
4. (발송 체크 시) 연락처/이메일 형식 유효
실패 UX(최소 스트레스)
• 상단 토스트: “필수 항목이 남아있어요”
• 자동 스크롤: 문제 섹션으로 이동
• 해당 항목/필드 하이라이트(빨간 테두리)

4) 상태별 화면 동작
TECH_ASSIGNED / IN_PROGRESS
• 모두 편집 가능
• 완료 제출 가능
COMPLETED
• 읽기 전용
• 하단 버튼: 문서 보기(PDF) / 발송 상태 보기(선택)

5) 클릭 수(체감) 목표
• 설치 기준:
o 필수 12개 × 1클릭(각 항목 PASS 선택) = 12
o 서명자 이름 입력 1회
o 서명 저장 1회
o 완료 제출 1회
o 총 15~18 액션 수준 (현장에선 이 정도가 현실적 최저선)

6) 구현 시 개발자에게 꼭 전달할 UX 디테일
• 항목 선택은 즉시 저장(autosave) (저장 버튼 없앰)
• 네트워크 오류 시 “저장 실패” 표시 + 재시도
• 서명은 저장 성공 전까지 “완료 제출” 비활성화
• FAIL 메모는 최소 글자수로 유도(너무 빡세면 반발)

M-02 기사 화면 문구(마이크로카피) v0.1
1) 공통 버튼/라벨
버튼
• 전화하기
• 지도 보기
• 작업 시작 (선택)
• 서명 지우기
• 서명 저장
• 사진 추가
• 완료 제출
• 다시 받기(서명 재입력)
• 닫기
• 재시도
상태 배지
• 배정됨
• 진행중
• 완료
• 취소
섹션 제목
• 필수 체크
• 고객 서명 (필수)
• 사진 업로드 (권장)
• 추가 항목 (권장)
• 고객 발송 정보 (선택)

2) 현장 카드 문구
• 주소 라벨: 주소
• 담당자 라벨: 현장 담당자
• 고객사 라벨(작게): 고객사
지도 버튼 툴팁/안내(선택):
• 지도 앱으로 이동합니다

3) 작업 요약 문구(선택 섹션)
• 일정 라벨: 방문 일정
• 메모 라벨: 특이사항
• 메모 접기/펼치기: 자세히 보기 / 접기
작업 시작 안내(선택):
• 버튼 설명(작게): 현장 도착 후 누르세요

4) 체크리스트 문구
섹션 헤더
• 필수 체크 (완료 0/12) (AS는 0/10)
• 완료 시: 필수 체크 ✅
항목 선택 버튼(추천 표기)
• 정상(PASS)
• 이상(FAIL)
• 해당없음(NA)
FAIL 선택 시 메모 입력
• 입력 라벨: 메모 (필수)
• placeholder:
o 원인/조치 내용을 간단히 적어주세요
• 도움말(작게, 선택):
o 예) 전원 불량 → 차단기 확인 후 정상화
메모 검증 실패
• 메모를 입력해주세요 (10자 이상 권장)

5) 서명 섹션 문구
입력 라벨
• 서명자 이름 (필수)
• 서명자 구분 (선택)
o 옵션: 현장담당 / 관리자 / 대표 / 대리인 / 기타
서명 패드 안내
• 패드 상단 안내(작게):
o 고객에게 화면을 전달해 서명받아 주세요
• 패드 placeholder(가운데 옅게):
o 여기에 서명
서명 저장 관련
• 저장 전 안내:
o 서명을 저장해야 완료 제출이 가능합니다
• 저장 완료 토스트:
o 서명이 저장되었습니다
• 저장 실패 토스트:
o 서명 저장에 실패했어요. 다시 시도해주세요
서명 미입력 경고
• 서명을 먼저 저장해주세요

6) 사진 업로드 섹션 문구(권장)
섹션 제목/설명
• 제목: 사진 업로드 (권장)
• 설명(작게):
o 문서 신뢰도를 높이기 위해 전/후 사진을 남겨주세요
분류 라벨
• 작업 전
• 작업 후
업로드 상태
• 업로드 중: 업로드 중…
• 업로드 완료: 업로드 완료
• 업로드 실패: 업로드 실패 · 재시도
삭제 확인(선택)
• 제목: 사진을 삭제할까요?
• 버튼: 삭제 / 취소
(운영 후 필수로 바뀔 때 문구)
• 사진이 필요합니다. 작업 전/후 사진을 추가해주세요

7) 고객 발송 정보 문구(선택)
설명
• 완료 문서를 고객에게 발송할 수 있어요
입력 라벨
• 문자 수신번호
• 이메일 주소
체크박스
• 완료 후 문자 발송
• 완료 후 이메일 발송
유효성 오류
• 전화번호:
o 휴대폰 번호를 확인해주세요
• 이메일:
o 이메일 주소를 확인해주세요
발송 안내(완료 후)
• 완료 문서는 저장 후 자동 발송됩니다

8) 하단 액션바(완료 제출) 문구
완료 제출 버튼
• 기본: 완료 제출
완료 제출 전 안내(조건 미충족 시)
• 필수 항목을 먼저 완료해주세요
• 서명을 완료해주세요
완료 제출 확인(선택: 실수 방지)
• 제목: 완료 제출할까요?
• 설명:
o 제출 후에는 수정이 제한될 수 있습니다
• 버튼:
o 제출 / 취소
완료 성공
• 토스트: 완료 처리되었습니다
• 보조 문구(선택):
o 문서 생성 및 고객 발송은 자동으로 진행됩니다
완료 실패(서버 오류 등)
• 완료 처리에 실패했어요. 네트워크 상태를 확인하고 다시 시도해주세요

9) 네트워크/저장 관련(현장 필수)
자동 저장 성공(표시는 최소로, 선택)
• 저장됨
자동 저장 실패(반드시 표기)
• 저장에 실패했어요 · 재시도
세션 만료
• 로그인이 만료되었습니다. 다시 로그인해주세요
권한 오류(다른 기사 작업 접근 등)
• 이 작업에 접근할 수 없습니다

10) 현장 친화적 문구 톤 가이드
• “오류” 대신 “실패했어요/확인해주세요” 사용
• “필수”는 명확하게, 하지만 짧게
• 고객에게 보여지는 화면이므로 과도한 기술 용어 금지

(본문 끝)
===

---

## M-02 스크린 텍스트 목업 v0.1(모바일 웹)

M-02 스크린 텍스트 목업 v0.1 (모바일 웹)
[헤더 Sticky]
← 오늘 작업 [설치] 배정됨 📞

[현장 카드]
OO마트 OO점 (현장명)
주소: 서울시 … … …
지도 보기
현장 담당자: 홍길동 전화하기
고객사: OO유통(주)

[작업 요약 카드]
방문 일정: 2026-02-12 14:00
특이사항: 설치 위치는 출입문 오른쪽 벽면
자세히 보기
(선택 버튼) 작업 시작
작게: 현장 도착 후 누르세요

[필수 체크 (완료 0/12)]
항목마다 3버튼이 바로 보이게. 버튼은 토글형.
1) 설치 위치가 협의된 위치와 일치한다
정상(PASS) 이상(FAIL) 해당없음(NA)
2) 전원 사용 가능(콘센트/차단기/연결 상태)
정상(PASS) 이상(FAIL) 해당없음(NA)
3) 설치 공간 안전/간섭(통행, 고정 가능 공간) 확보
정상(PASS) 이상(FAIL) 해당없음(NA)
4) 제품 모델이 지시 내용과 일치한다
정상(PASS) 이상(FAIL) 해당없음(NA)
5) 제품 시리얼이 확인되었다(실물 기준)
정상(PASS) 이상(FAIL) 해당없음(NA)
6) 외관 이상(파손/심각한 오염)이 없다
정상(PASS) 이상(FAIL) 해당없음(NA)
7) 고정(브라켓/거치/고정장치)이 견고하게 완료되었다
정상(PASS) 이상(FAIL) 해당없음(NA)
8) 수평/정렬이 허용 범위 내이다(육안 기준 OK)
정상(PASS) 이상(FAIL) 해당없음(NA)
9) 전원 인가 후 정상 동작한다(부팅/동작 확인)
정상(PASS) 이상(FAIL) 해당없음(NA)
10) 이상 알림/에러 표시가 없다(또는 처리 완료)
정상(PASS) 이상(FAIL) 해당없음(NA)
11) 고객에게 기본 사용법/주의사항을 안내했다
정상(PASS) 이상(FAIL) 해당없음(NA)
12) 고객 서명 완료(서명자 이름 포함)
여긴 체크 항목으로 두지 말고, 실제 서명 섹션 완료 여부와 연동해서 자동으로 ✅ 처리 추천

(FAIL 선택 시 즉시 펼쳐지는 예시)
10) 이상 알림/에러 표시가 없다(또는 처리 완료) → 이상(FAIL) 선택됨
메모 (필수)
[ 입력창 ]
placeholder: 원인/조치 내용을 간단히 적어주세요
작게 도움말: 예) 전원 불량 → 차단기 확인 후 정상화
(메모 미입력 시 아래 경고)
메모를 입력해주세요 (10자 이상 권장)

[고객 서명 (필수)]
서명자 이름 (필수)
[ 홍길동 ] (입력)
서명자 구분 (선택)
[ 현장담당 ▾ ]
작게 안내: 고객에게 화면을 전달해 서명받아 주세요
서명 패드
┌──────────────────────┐
│ 여기에 서명 │
└──────────────────────┘
서명 지우기 서명 저장
(저장 전 안내, 서명 패드 아래 작게)
서명을 저장해야 완료 제출이 가능합니다
(서명 저장 성공 시 토스트)
서명이 저장되었습니다
(저장 후 UI)
• 미리보기 썸네일 + 다시 받기

[사진 업로드 (권장) ▸]
(접힌 상태 기본)
펼치면:
설명: 문서 신뢰도를 높이기 위해 전/후 사진을 남겨주세요
작업 전
사진 추가
[썸네일][썸네일]…
작업 후
사진 추가
[썸네일]…
업로드 실패 시:
업로드 실패 · 재시도

[고객 발송 정보 (선택) ▸]
(접힌 상태 기본)
펼치면:
설명: 완료 문서를 고객에게 발송할 수 있어요
문자 수신번호
[ 010-1234-5678 ]
이메일 주소
[ sample@company.com ]
☐ 완료 후 문자 발송
☐ 완료 후 이메일 발송
(형식 오류 시)
휴대폰 번호를 확인해주세요 / 이메일 주소를 확인해주세요

[하단 액션바 Sticky]
(Primary) 완료 제출
(상태가 TECH_ASSIGNED면 보조 버튼 추가 가능)
작업 시작 완료 제출

완료 제출 시 검증 메시지(예시)
케이스 1: 필수 체크 미완료
토스트: 필수 항목을 먼저 완료해주세요
→ 자동 스크롤: 필수 체크 섹션으로 이동
→ 미완료 항목 라벨/버튼 테두리 강조
케이스 2: 서명 미저장
토스트: 서명을 먼저 저장해주세요
→ 자동 스크롤: 서명 섹션으로 이동
→ 서명 패드 강조
케이스 3: 완료 확인(선택 모달)
제목: 완료 제출할까요?
설명: 제출 후에는 수정이 제한될 수 있습니다
버튼: 취소 / 제출
성공
토스트: 완료 처리되었습니다
작게: 문서 생성 및 고객 발송은 자동으로 진행됩니다
실패(네트워크/서버)
토스트: 완료 처리에 실패했어요. 네트워크 상태를 확인하고 다시 시도해주세요
버튼: 재시도

AS 버전일 때 차이(목업 적용 방법)
• 헤더 배지: [AS] 배정됨
• “필수 체크(완료 0/10)”로 바뀜
• 나머지 레이아웃은 동일(학습 비용 최소화)

(본문 끝)
===

## 연관 문서
- [컴포넌트/리스크](02-m02-components-risk.md)
- [API](03-api.md)

## 변경 이력
- v0.1: 통합문서 기반 초안 정리
