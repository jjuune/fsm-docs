# ì¡°ì§/íŒ€ í”„ë¡œí•„ (OrgProfile / TeamProfile)

## TL;DR
- **Organization:** íšŒì‚¬(ë³¸ì‚¬) ë‹¨ì¼ ë ˆì½”ë“œ. Adminë§Œ í¸ì§‘ ê°€ëŠ¥.
- **Team:** ì„¼í„° ì •ë³´. `name`(ì„¼í„°ëª…)ì€ ìƒì„± í›„ ë³€ê²½ ë¶ˆê°€(Immutable).
- Phase 1ì€ ë¹„í™œì„±í™”ë§Œ í—ˆìš©, Hard delete ê¸ˆì§€.

---

## ğŸ¢ 1. Organization (íšŒì‚¬) ê¸°ë³¸ í•„ë“œ

| í•„ë“œ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
| :--- | :---: | :--- | :--- |
| `id` | UUID | ë ˆì½”ë“œ ì‹ë³„ì | ì‹œìŠ¤í…œ ìë™ ìƒì„± |
| `legal_name` | string | ë²•ì¸ëª… (ì‚¬ì—…ì ë“±ë¡ ê¸°ì¤€) | í•„ìˆ˜ |
| `biz_reg_no` | string | ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ | í•„ìˆ˜ |
| `address` | string | ì‚¬ì—…ì¥ ì£¼ì†Œ | í•„ìˆ˜ |
| `phone` | string | ëŒ€í‘œ ì—°ë½ì²˜ | ì„ íƒ |
| `email` | string | ëŒ€í‘œ ì´ë©”ì¼ | ì„ íƒ |
| `created_at` | datetime | ìµœì´ˆ ìƒì„± ì¼ì‹œ | ì‹œìŠ¤í…œ ìë™ |
| `updated_at` | datetime | ìµœì¢… ìˆ˜ì • ì¼ì‹œ | ì‹œìŠ¤í…œ ìë™ |

> **Phase 1:** Organizationì€ ë‹¨ì¼ ë ˆì½”ë“œ(1ê°œ). Adminì´ ìƒì„±Â·í¸ì§‘. PDF ìë™ì‚½ì… ë“± ì„œì‹ ìë™í™”ëŠ” Phase 2.

---

## ğŸª 2. Team (ì„¼í„°) ê¸°ë³¸ í•„ë“œ

| í•„ë“œ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
| :--- | :---: | :--- | :--- |
| `id` | UUID | ë ˆì½”ë“œ ì‹ë³„ì | ì‹œìŠ¤í…œ ìë™ ìƒì„± |
| `name` | string | **ì„¼í„°ëª… (Immutable)** | **ìƒì„± í›„ ë³€ê²½ ë¶ˆê°€** |
| `address` | string | ì„¼í„° ì£¼ì†Œ | ì„ íƒ (ìˆ˜ì • ê°€ëŠ¥) |
| `contact_phone` | string | ì„¼í„° ì—°ë½ì²˜ | ì„ íƒ (ìˆ˜ì • ê°€ëŠ¥) |
| `manager_name` | string | ë‹´ë‹¹ì ì´ë¦„ | ì„ íƒ (ìˆ˜ì • ê°€ëŠ¥) |
| `status` | enum | `ACTIVE` / `INACTIVE` | ë¹„í™œì„±í™”ë§Œ í—ˆìš© |
| `deactivated_at` | datetime | ë¹„í™œì„±í™” ì¼ì‹œ | INACTIVE ì‹œ ìë™ |
| `deactivated_reason` | string | ë¹„í™œì„±í™” ì‚¬ìœ  | ì„ íƒ ì…ë ¥ |
| `org_id` | UUID | ì†Œì† Organization | ì™¸ë˜í‚¤ |
| `created_at` | datetime | ìƒì„± ì¼ì‹œ | ì‹œìŠ¤í…œ ìë™ |
| `updated_at` | datetime | ìˆ˜ì • ì¼ì‹œ | ì‹œìŠ¤í…œ ìë™ |

### âš ï¸ Team.name Immutable ì •ì±…
- **íŒ€ëª…(ì„¼í„°ëª…)ì€ ìµœì´ˆ ìƒì„± ì‹œì—ë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.**
- ìƒì„± ì´í›„ PATCH ìš”ì²­ì—ì„œ `name` í•„ë“œëŠ” ë¬´ì‹œë©ë‹ˆë‹¤ (ì„œë²„ê°€ ë³€ê²½ ê±°ë¶€).
- ê´€ë ¨: [RBAC ê¶Œì¥ ì •ì±…ê°’](../20-product/00-rbac.md), [API ìµœì†Œì„¸íŠ¸](../30-implementation/10-api-minimum-set-phase1.md)

### âš ï¸ Team Hard Delete ê¸ˆì§€
- **Phase 1ì—ì„œ Team ì‚­ì œëŠ” ê¸ˆì§€ë©ë‹ˆë‹¤.**
- ë¹„í™œì„±í™”(`PATCH /admin/teams/{id}/deactivate`)ë§Œ í—ˆìš©.
- Inactive íŒ€ì€ WorkOrder ì‹ ê·œ ë°°ì •ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤.

---

## ğŸ‘¤ 3. User Lifecycle

| ìƒíƒœ | ì„¤ëª… | ì˜í–¥ |
| :--- | :--- | :--- |
| `ACTIVE` | ì •ìƒ í™œì„± ìƒíƒœ | ë¡œê·¸ì¸/ë°°ì • ê°€ëŠ¥ |
| `INACTIVE` | ë¹„í™œì„±í™” ìƒíƒœ | ë¡œê·¸ì¸ ì°¨ë‹¨, ì‹ ê·œ ë°°ì • ì°¨ë‹¨ |

> **Hard delete ê¸ˆì§€:** ë°ì´í„° ë¬´ê²°ì„±ì„ ìœ„í•´ User ë ˆì½”ë“œëŠ” ë¬¼ë¦¬ ì‚­ì œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
> ë¹„í™œì„±í™”(`deactivated_at` + `deactivated_reason` ê¸°ë¡)ë§Œ í—ˆìš©.

---

## ğŸ” 4. í¸ì§‘ ê¶Œí•œ

| ëŒ€ìƒ | Admin | Team Manager | Technician |
| :--- | :---: | :---: | :---: |
| **Organization ì „ì²´** | âœ… | âŒ | âŒ |
| **Team ì „ì²´ (name ì œì™¸)** | âœ… | âš ï¸ (ìê¸° íŒ€ë§Œ) | âŒ |
| Team ì£¼ì†Œ/ì—°ë½ì²˜/ë‹´ë‹¹ì | âœ… | âœ… (ìê¸° íŒ€ë§Œ) | âŒ |
| **Team.name** | **âŒ (ë¶ˆê°€)** | **âŒ (ë¶ˆê°€)** | **âŒ (ë¶ˆê°€)** |
| Team ë¹„í™œì„±í™” | âœ… | âŒ | âŒ |
| User ë¹„í™œì„±í™” (TECH) | âœ… | âœ… (ìê¸° íŒ€ë§Œ) | âŒ |

---

## ì—°ê´€ ë¬¸ì„œ
- [ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤(RBAC)](../20-product/00-rbac.md)
- [ERD + Field Dictionary](../40-data/01-erd.md)
- [API ìµœì†Œì„¸íŠ¸ (Phase 1)](../30-implementation/10-api-minimum-set-phase1.md)

## ë³€ê²½ ì´ë ¥
- **v0.2:** ì‹ ê·œ ì‘ì„± â€” OrgProfile/TeamProfile í•„ë“œ ì •ì˜, Immutable/Hard delete ì •ì±… ëª…ë¬¸í™” (2026-02-23)
