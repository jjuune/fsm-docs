# 가정 및 리스크 (Assumptions & Risks)

## TL;DR
- **핵심:** 현장 운영 특성상 서명, 사진 수집, 네트워크 안정성이 가장 중요합니다.
- **방침:** Phase 1은 '증빙 완결성'과 '배정 체인의 명확성'을 최우선으로 합니다.

---

## 💡 1. 기본 가정 (Assumptions)
프로젝트 설계의 기반이 되는 주요 가정사항입니다.
1. **역할 체계:** Admin/TM/Technician 3그룹 권한으로 운영이 충분히 가능하다.
2. **디바이스:** 기사의 모든 현장 업무는 모바일 웹(스마트폰/태블릿) 환경을 기본으로 한다.
3. **네트워크:** Phase 1은 상시 온라인 환경을 전제로 하며, 고급 오프라인 동기화는 제외한다.
4. **유연성:** 체크리스트 항목은 Phase 1 동안 큰 틀의 구조 변경 없이 문구 조정 수준에서 관리한다.
5. **PDF 증빙:** PDF는 '완료 증빙 보관'이 주 목적이며, 디자인 고도화는 차기 단계로 미룬다.

---

## ⚠️ 2. 리스크 및 대응 전략 (Risk Mitigation)

| 리스크 항목 | 발생 가능 상황 | 대응 및 해결 방안 (Phase 1) |
| :--- | :--- | :--- |
| **네트워크 불안정** | 현장 무신호로 인한 저장/업로드 실패 | Autosave 실패 시 재시도 UX 제공, 수동 업로드 버튼 지원 |
| **서명 수집 실패** | 고객 서명 누락 또는 저장 오류 | 완료 제출 시 **서명 여부 강제 검증**, 미입력 시 자동 이동 |
| **데이터 입력 누락** | 필수 항목 미체크, FAIL 메모 미작성 | 서버 사이드 검증 + UI 내 누락 항목 하이라이트/스크롤 |
| **배정 정책 혼선** | 권한을 넘어선 임의 배정 및 일정 변경 | **RBAC 고정:** Admin(팀 배정), TM(기사 배정) 권한 엄격 분리 |
| **PDF 생성 오류** | 서버 부하 및 렌더링 오류 | PDF 상태 표시, 수동 재생성 기능 제공, HTML 인쇄 기능 백업 |
| **메시지 발송 실패** | 연락처 오류 또는 발송 서버 장애 | 실패 사유 최소 기록, Admin 전용 재발송 기능 제공 |
| **보안/개인정보** | 고객 연락처 및 서명 이미지 유출 | 스코프(Scope) 필터링 적용, 다운로드 링크 만료 설정 |

---

## ⚖️ 3. Phase 1 운영 원칙
- **[속도]** 고급 기능(오프라인, 통계)보다 핵심 프로세스의 완결이 우선입니다.
- **[완결]** 체크리스트 + FAIL 메모 + 서명이 모두 갖춰져야만 완료 처리가 가능합니다.
- **[명확]** 배정 체인(본사 ➔ 팀 ➔ 기사)은 시스템 상에서 타협 없이 운영합니다.

---

## 변경 이력
- **v0.1:** 통합문서 기반 초안 정리 (2025-02-20)
